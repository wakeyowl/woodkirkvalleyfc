{% extends 'member/base_bootstrap.html' %}

{% load bootstrap3 %}
{% load staticfiles %}

{% block title %}{{ user.username }} Profile{% endblock %}

{% block body_block %}
    <div class="jumbotron">
        <div class="page-header">
            <div class="col-md-6">
                {% for user in loggedin_user %}
                    <h2>{{ user.full_name }}'s Profile</h2>
                {% endfor %}

            </div>

            <a class="btn btn-primary" href="/member/profile/update/">Edit Contact
                Details</a>

            <a class="btn btn-primary" href="{{ url }}/member/profile/addplayer/">Register a Player</a>
        </div>

        <!-- Parent Contact Details -->
        <div class="container-fluid">

            <div class="row">
                <div class="col-md-6">
                    {% for currentuser in loggedin_user %}
                        <h5><span class="fa fa-address-card-o text-primary"
                                  aria-hidden="true"></span> {{ currentuser.address1 }}</h5>
                        <h5><span class="fa fa-circle-thin text-white"
                                  aria-hidden="true"></span> {{ currentuser.address2 }}</h5>
                        <h5><span class="fa fa-circle-thin text-white"
                                  aria-hidden="true"></span> {{ currentuser.postcode }}</h5>
                        <h5><span class="fa fa-phone text-primary"
                                  aria-hidden="true"></span> {{ currentuser.mobile_phone }}</h5>
                        <h5><span class="fa fa-envelope text-primary"
                                  aria-hidden="true"></span> {{ user.email }}</h5>
                    {% endfor %}

                </div>
            </div>
        </div>


        <!-- Loop of registered players assigned to each member -->

        <div id="profile_data" class="page-header">


            {% if player %}
                <ul class="list-group">
                    <h4>Current Registered Players</h4>
                    {% for child in player %}
                        <br/>
                        <ul class="list-group">
                            <li class="list-group-item">
                                <h2>

                                    {% if child.picture %}
                                        <img class="img-circle" src="/member/media/{{ child.picture }}" width="75" height="75"
                                             alt="{{ child.name }}"/>
                                    {% else %}
                                        <a href="add_member.html">Upload Photo</a>
                                    {% endif %}

                                    {{ child.name }}
                                    {% if child.is_active == True %}
                                        <i> (Active)</i>
                                        <button type="button" class="btn btn-default btn-lg">
                                        <span class="fa fa-thumbs-up text-primary text-success"
                                              aria-hidden="true"> </span>
                                        </button>
                                    {% else %}
                                        <i> (Not Active)</i>
                                        <button type="button" class="btn btn-default btn-lg">
                                        <span class="fa fa-thumbs-down text-primary text-danger"
                                              aria-hidden="true"> </span>
                                        </button>
                                    {% endif %}
                                </h2>
                            </li>

                            <li class="list-group-item">
                                <h5><span class="fa fa-futbol-o text-primary" aria-hidden="true"> </span> <strong>
                                    Manager: </strong>

                                    {{ child.manager.full_name }}
                                    ({{ child.manager.team }})
                                </h5>
                            </li>
                            {% if child.gender == 'M' %}
                                <li class="list-group-item">
                                <span
                                        class="fa fa-medkit text-primary" aria-hidden="true"> </span>
                                    </strong> {{ child.medical_details }} </br></br>
                                    <span
                                            class="fa fa-birthday-cake text-primary"
                                            aria-hidden="true"></span> {{ child.birthdate }} </br></br>
                                    <span
                                            class="fa fa-male text-primary" aria-hidden="true"></span> Male
                                </li>
                            {% else %}
                                <li class="list-group-item">
                                <span
                                        class="fa fa-medkit text-primary" aria-hidden="true"> </span>
                                    </strong> {{ child.medical_details }} </br></br>
                                    <span
                                            class="fa fa-birthday-cake text-primary"
                                            aria-hidden="true"></span> {{ child.birthdate }} </br></br>
                                    <span
                                            class="fa fa-female text-primary" aria-hidden="true"></span> Female
                                </li>
                            {% endif %}

                        </ul>

                    {% endfor %}
                </ul>
            {% else %}
                <strong>There are no Players currently registered to you. </strong>
            {% endif %}
        </div>
    </div>
{% endblock %}